(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{5507:(s,e,i)=>{Promise.resolve().then(i.bind(i,8887))},8887:(s,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>x});var l=i(5155),t=i(2115),n=i(667),c=i(8297),d=i(9219),r=i(1437);let a={id:0,title:"测试投票",description:"这是一个测试投票，用于验证投票选择功能",options:["选项A","选项B","选项C"],creator:"0x1234567890123456789012345678901234567890",startTime:Math.floor(Date.now()/1e3)-3600,endTime:Math.floor(Date.now()/1e3)+3600,isActive:!0,isPublic:!0,totalVotes:5},o={votingId:0,results:[2,1,2],totalVotes:5};function x(){let[s,e]=(0,t.useState)(!1),[i,x]=(0,t.useState)(!1),[h,m]=(0,t.useState)(null),[j,u]=(0,t.useState)(!1),g=async(s,i)=>{console.log("Test vote: Voting ".concat(s,", Option ").concat(i," (").concat(a.options[i],")")),m(i),e(!1),alert('✅ 投票成功！您选择了: "'.concat(a.options[i],'"'))},p=async s=>{console.log("Test decrypt: Voting ".concat(s)),await new Promise(s=>setTimeout(s,1e3)),u(!0),alert("✅ 结果解密成功！")};return(0,l.jsxs)("div",{className:"min-h-screen bg-background p-8",children:[(0,l.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsx)(c.ZB,{className:"text-2xl",children:"ZamaVoting 功能测试页面"})}),(0,l.jsx)(c.Wu,{children:(0,l.jsx)("p",{className:"text-muted-foreground",children:"这个页面用于测试投票选择和结果查看功能。所有操作都是模拟的，不会与真实的智能合约交互。"})})]}),(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsx)(c.ZB,{children:"模拟投票"})}),(0,l.jsxs)(c.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-muted",children:[(0,l.jsx)("h3",{className:"font-semibold text-lg",children:a.title}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.description}),(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("strong",{children:"选项:"}),(0,l.jsx)("ul",{className:"list-disc list-inside mt-1",children:a.options.map((s,e)=>(0,l.jsx)("li",{children:s},e))})]}),(0,l.jsxs)("div",{className:"mt-3 text-sm",children:[(0,l.jsx)("strong",{children:"总票数:"})," ",a.totalVotes]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)(n.$,{onClick:()=>e(!0),className:"w-full",size:"lg",children:"\uD83D\uDDF3️ 测试投票选择"}),(0,l.jsx)(n.$,{onClick:()=>x(!0),variant:"outline",className:"w-full",size:"lg",children:"\uD83D\uDCCA 测试结果查看"})]}),null!==h&&(0,l.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,l.jsx)("h4",{className:"font-medium text-green-800",children:"最后投票结果:"}),(0,l.jsxs)("p",{className:"text-green-700",children:["您选择了: ",(0,l.jsx)("strong",{children:a.options[h]})]})]})]})]}),(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsx)(c.ZB,{children:"使用说明"})}),(0,l.jsxs)(c.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium",children:"1. 测试投票选择:"}),(0,l.jsxs)("ul",{className:"list-disc list-inside text-sm text-muted-foreground ml-4",children:[(0,l.jsx)("li",{children:'点击"测试投票选择"按钮'}),(0,l.jsx)("li",{children:"在弹出的模态框中选择任意选项"}),(0,l.jsx)("li",{children:"确认选择并提交"}),(0,l.jsx)("li",{children:"查看选择结果反馈"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium",children:"2. 测试结果查看:"}),(0,l.jsxs)("ul",{className:"list-disc list-inside text-sm text-muted-foreground ml-4",children:[(0,l.jsx)("li",{children:'点击"测试结果查看"按钮'}),(0,l.jsx)("li",{children:'在结果模态框中点击"Decrypt Results"'}),(0,l.jsx)("li",{children:"查看模拟的投票结果和统计"}),(0,l.jsx)("li",{children:"观察获胜选项的高亮显示"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium",children:"3. 真实使用:"}),(0,l.jsxs)("ul",{className:"list-disc list-inside text-sm text-muted-foreground ml-4",children:[(0,l.jsx)("li",{children:"返回主页 (/) 进行真实的投票"}),(0,l.jsx)("li",{children:"连接MetaMask钱包"}),(0,l.jsx)("li",{children:"参与真实的FHEVM加密投票"}),(0,l.jsx)("li",{children:"体验完整的隐私保护投票流程"})]})]})]})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)(n.$,{onClick:()=>window.location.href="/",variant:"outline",children:"← 返回主页"})})]}),(0,l.jsx)(d.e,{voting:a,isOpen:s,onClose:()=>e(!1),onVote:g,isLoading:!1}),(0,l.jsx)(r.Y,{voting:a,results:j?o:void 0,isOpen:i,onClose:()=>x(!1),onDecrypt:p,isDecrypting:!1})]})}}},s=>{s.O(0,[349,219,437,441,255,358],()=>s(s.s=5507)),_N_E=s.O()}]);