"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{667:(e,t,o)=>{o.d(t,{$:()=>c});var n=o(5155),r=o(5016),i=o(3101),a=o(2115);let s=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=(0,a.forwardRef)((e,t)=>{let{className:o,variant:i,size:a,asChild:c=!1,...l}=e;return(0,n.jsx)("button",{className:(0,r.cn)(s({variant:i,size:a,className:o})),ref:t,...l})});c.displayName="Button"},1847:(e,t,o)=>{o.d(t,{A:()=>s});var n=o(2115);let r=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.filter((e,t,o)=>!!e&&""!==e.trim()&&o.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,n.forwardRef)((e,t)=>{let{color:o="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:c,className:l="",children:d,iconNode:m,...u}=e;return(0,n.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:o,strokeWidth:c?24*Number(s)/Number(a):s,className:r("lucide",l),...u},[...m.map(e=>{let[t,o]=e;return(0,n.createElement)(t,o)}),...Array.isArray(d)?d:[d]])}),s=(e,t)=>{let o=(0,n.forwardRef)((o,i)=>{let{className:s,...c}=o;return(0,n.createElement)(a,{ref:i,iconNode:t,className:r("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),s),...c})});return o.displayName="".concat(e),o}},3823:(e,t,o)=>{o.d(t,{A:()=>n});let n=(0,o(1847).A)("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]])},5016:(e,t,o)=>{o.d(t,{$B:()=>s,LV:()=>c,cn:()=>i,fU:()=>a});var n=o(2821),r=o(5889);function i(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,r.QP)((0,n.$)(t))}function a(e){return new Date(1e3*e).toLocaleString()}function s(e){let t=e-Math.floor(Date.now()/1e3);if(t<=0)return"Ended";let o=Math.floor(t/86400),n=Math.floor(t%86400/3600),r=Math.floor(t%3600/60);return o>0?"".concat(o,"d ").concat(n,"h"):n>0?"".concat(n,"h ").concat(r,"m"):"".concat(r,"m")}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,t+2),"...").concat(e.slice(-t))}},5229:(e,t,o)=>{o.d(t,{A:()=>n});let n=(0,o(1847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8297:(e,t,o)=>{o.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>c,Zp:()=>a,aR:()=>s});var n=o(5155),r=o(5016),i=o(2115);let a=(0,i.forwardRef)((e,t)=>{let{className:o,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",o),...i})});a.displayName="Card";let s=(0,i.forwardRef)((e,t)=>{let{className:o,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",o),...i})});s.displayName="CardHeader";let c=(0,i.forwardRef)((e,t)=>{let{className:o,...i}=e;return(0,n.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",o),...i})});c.displayName="CardTitle";let l=(0,i.forwardRef)((e,t)=>{let{className:o,...i}=e;return(0,n.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",o),...i})});l.displayName="CardDescription";let d=(0,i.forwardRef)((e,t)=>{let{className:o,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",o),...i})});d.displayName="CardContent",(0,i.forwardRef)((e,t)=>{let{className:o,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",o),...i})}).displayName="CardFooter"},8839:(e,t,o)=>{o.d(t,{Providers:()=>s,o:()=>c});var n=o(5155),r=o(2115);let i=(0,r.createContext)(void 0),a={en:{"nav.home":"Home","nav.create":"Create Voting","nav.admin":"Admin","nav.connect":"Connect Wallet","nav.disconnect":"Disconnect","common.loading":"Loading...","common.error":"Error","common.success":"Success","common.cancel":"Cancel","common.confirm":"Confirm","common.save":"Save","common.delete":"Delete","common.edit":"Edit","common.view":"View","common.back":"Back","common.next":"Next","common.previous":"Previous","common.end":"End","voting.title":"ZamaVoting","voting.subtitle":"Confidential Voting System","voting.create":"Create New Voting","voting.vote":"Vote","voting.results":"Results","voting.active":"Active","voting.ended":"Ended","voting.upcoming":"Upcoming","voting.total_votes":"Total Votes","voting.time_left":"Time Left","voting.ends_at":"Ends At","voting.starts_at":"Starts At","voting.created_by":"Created By","voting.public":"Public","voting.private":"Private","voting.whitelist_only":"Whitelist Only","form.title":"Title","form.description":"Description","form.options":"Options","form.start_time":"Start Time","form.end_time":"End Time","form.voting_type":"Voting Type","form.add_option":"Add Option","form.remove_option":"Remove Option","form.whitelist":"Whitelist Addresses","msg.wallet_not_connected":"Please connect your wallet","msg.voting_created":"Voting created successfully","msg.vote_cast":"Vote cast successfully","msg.already_voted":"You have already voted","msg.voting_not_active":"Voting is not active","msg.not_authorized":"You are not authorized to vote","msg.invalid_option":"Invalid voting option"},zh:{"nav.home":"首页","nav.create":"创建投票","nav.admin":"管理","nav.connect":"连接钱包","nav.disconnect":"断开连接","common.loading":"加载中...","common.error":"错误","common.success":"成功","common.cancel":"取消","common.confirm":"确认","common.save":"保存","common.delete":"删除","common.edit":"编辑","common.view":"查看","common.back":"返回","common.next":"下一步","common.previous":"上一步","common.end":"结束","voting.title":"Zama投票","voting.subtitle":"机密投票系统","voting.create":"创建新投票","voting.vote":"投票","voting.results":"结果","voting.active":"进行中","voting.ended":"已结束","voting.upcoming":"即将开始","voting.total_votes":"总票数","voting.time_left":"剩余时间","voting.ends_at":"结束时间","voting.starts_at":"开始时间","voting.created_by":"创建者","voting.public":"公开","voting.private":"私有","voting.whitelist_only":"仅限白名单","form.title":"标题","form.description":"描述","form.options":"选项","form.start_time":"开始时间","form.end_time":"结束时间","form.voting_type":"投票类型","form.add_option":"添加选项","form.remove_option":"移除选项","form.whitelist":"白名单地址","msg.wallet_not_connected":"请连接您的钱包","msg.voting_created":"投票创建成功","msg.vote_cast":"投票成功","msg.already_voted":"您已经投过票了","msg.voting_not_active":"投票未激活","msg.not_authorized":"您无权投票","msg.invalid_option":"无效的投票选项"}};function s(e){let{children:t}=e,[o,s]=(0,r.useState)("en");return(0,n.jsx)(i.Provider,{value:{language:o,setLanguage:s,t:e=>a[o][e]||e},children:t})}function c(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},9219:(e,t,o)=>{o.d(t,{e:()=>m});var n=o(5155),r=o(2115),i=o(8297),a=o(667),s=o(8839),c=o(3823),l=o(5229);let d=(0,o(1847).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function m(e){let{voting:t,isOpen:o,onClose:m,onVote:u,isLoading:v=!1}=e,{t:g}=(0,s.o)(),[f,p]=(0,r.useState)(null),[h,x]=(0,r.useState)(!1);if(!o)return null;let b=async()=>{if(null!==f)try{x(!0),await u(t.id,f),m(),p(null)}catch(e){console.error("Failed to vote:",e)}finally{x(!1)}},y=()=>{h||(m(),p(null))};return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)(i.Zp,{className:"w-full max-w-md mx-auto",children:[(0,n.jsxs)(i.aR,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.A,{className:"w-5 h-5 text-primary"}),(0,n.jsx)(i.ZB,{className:"text-lg",children:g("voting.vote")})]}),(0,n.jsx)(a.$,{variant:"ghost",size:"icon",onClick:y,disabled:h,children:(0,n.jsx)(l.A,{className:"w-4 h-4"})})]}),(0,n.jsx)(i.BT,{children:t.title})]}),(0,n.jsxs)(i.Wu,{className:"space-y-4",children:[(0,n.jsx)("div",{className:"p-3 bg-muted rounded-md",children:(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:t.description})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{className:"font-medium text-sm mb-3",children:[g("form.options"),":"]}),(0,n.jsx)("div",{className:"space-y-2",children:t.options.map((e,t)=>(0,n.jsx)("button",{onClick:()=>p(t),disabled:h,className:"w-full p-4 text-left border rounded-lg transition-all duration-200 ".concat(f===t?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50 hover:bg-accent"," ").concat(h?"opacity-50 cursor-not-allowed":"cursor-pointer"),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium",children:e}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground",children:[g("form.options")," ",t+1]})]}),f===t&&(0,n.jsx)(d,{className:"w-5 h-5 text-primary"})]})},t))})]}),(0,n.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md text-sm text-blue-800 dark:bg-blue-900 dark:text-blue-300 dark:border-blue-800",children:"\uD83D\uDD12 Your vote will be encrypted using FHEVM technology. Your choice will remain completely private and anonymous."}),(0,n.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,n.jsx)(a.$,{variant:"outline",onClick:y,disabled:h,className:"flex-1",children:g("common.cancel")}),(0,n.jsx)(a.$,{onClick:b,disabled:null===f||h,className:"flex-1",children:h?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"loading-spinner w-4 h-4 mr-2"}),"Voting..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{className:"w-4 h-4 mr-2"}),g("voting.vote")]})})]}),null!==f&&!h&&(0,n.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md text-sm text-green-800 dark:bg-green-900 dark:text-green-300 dark:border-green-800",children:["✅ Selected: ",t.options[f]]})]})]})})}}}]);